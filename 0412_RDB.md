# 数据库复习
主要复习一些database的知识，plus，搭好一个database system，来进行一些尝试; 目前还是主要看那本书为主

## introduction
* 通过DBMS 访问 DB
* 表，属性之间表示一些关系
	* schema 就是描述一个表，关系&各属性取什么值，叫什么名字的 模式 
	* 每行表示一个 record 关系的实例
		* 但是每个行 应该 有一个能 唯一标识自己的 主键（primary key）eg 主语的ID等
* SQL 提供从数据库读/写的高效方法（所有DBMS都支持的）
* 

## 检索数据 
	
* 检索一个或多个列 (SQL命令的空格换行等会被忽略，最好一个语句以;结尾)

	``` 
		SELECT COlUMN
		FROM TABLES;
	```	
	其实，SELECT 出来的，不管多复杂，都是一个表
* 通配符 `*` 表示所有的列

#### 排序检索数据
* `ORDER BY` 子句
	```
		SELECT COLUMN1,C2
		FROM TABLES 
		ORDER BY COLUMN2; 
	```
* ORDER 一定要是最后一个子句 & 用未选出的列排序也可以
* 可以按多个列排序，先第一个，第一个相同再第二个
* 反序 `ORDER BY C1 DESC` 但是若是按多个列排序，则只是反序了紧邻的那个

#### 过滤数据 
* `WHERE` 子句 过滤一些**行**, 在FROM子句之后给出
* 子句中可用很多操作符 描述过滤条件
	![1](./images/RDB_1.jpg)
	eg.
	```
		SELECT Name, Last_Name, Birthday
		From Try_0413
		WHERE Birthday BETWEEN 19950101 AND 19960415
		ORDER BY Last_Name DESC;
	```
##### 高级数据过滤
* 组合WHERE 用AND/ OR 逻辑操作符连接
	* 通过不只一个列的条件过滤 AND OR  
		```
			SELECT Name, Last_Name, Birthday
			From Try_0413
			WHERE Birthday < 19950101 
				AND Hometown = "HongKong"
			ORDER BY Last_Name DESC;
		```
	* 复合AND和OR的情形， 一般DBMS会将AND按较高优先级的来结合运算，我们可以使用括号
* IN操作符
	` WHERE Hometown IN ("HongKong", "TongLing")`
	IN的功能性其实没什么特点，但是方便书写
* NOT
	取补集后面的过滤条件	

##### 用通配符过滤 （需要匹配，而不是比较了）
* LIKE操作符 + 匹配模式
	` WHERE Name LIKE "Sher%" `    %匹配任意多个字符
	`_` 匹配单个字符
	`[]` 使用 
	没怎么看，目前还是别太用的比较好

#### 数据处理 
##### 计算字段 
Table中数据需要经过处理输出（实际是又得到了一个列）

* 一些操作 
	* 拼接字段  "||"    但是MYSQL并不支持（用`CONCAT()`）
		* 拼接后表，设置别名 `AS 名字`
	* 算数计算 + - * /   div mod
	eg.
	```
	 SELECT name, (2016 - birthday div 10000 + 1) AS age  FROM student;

	+--------+------+
	| name   | age  |
	+--------+------+
	| Kan Wu |   22 |
	| Ye Li  |   23 |
	+--------+------+

	```	
	* 使用数据处理函数   有一些文本，日期和数学处理函数

* 汇总数据

* 分组数据 

#### 子查询

#### 联接表

#### 组合查询

## 插入数据 
* 创建表
	* 需要给出 表明 & 表列名 & 表列的定义
	```
	create table ***(
		p_1 CHAR(10) NOT NULL DEFAULT xxx,
		p_2 CHAR(20) NOT NULL,
 		p_3 DECIMAL	 	
	);
	```
	* NOT NULL 表示，插入一行时，该列是否可以先不给出
	* DEFAULT 表示插入行时，若没有赋值，默认给什么值
* 更新表 
	`ALTER TABLE` 更改表的结构
	eg. 
	```
	ALTER TABLE student 
    ADD ID CHAR(10);
	```
* 删除，重命名表  `DROP TABLE student` 
* `INSERT INTO` 语句
	`INSERT INTO table(列名称...) VALUES ("", 4545, ...)`
	全部列都有的话，table后可省略
* `UPDATE` 语句
	`UPDATE 表名称 SET 列名称 = 新值 WHERE 列名称 = 某值`
	eg.
	`UPDATE student SET ID = "SA16011071" WHERE name = "Ye Li";`
* `DELETE` 语句
	`DELETE FROM 表名称 WHERE 列名称 = 值`
	eg. 
	`DELETE FROM student WHERE name = "Naughty Bo";`


## 视图

## 事务&游标

## SQL高级特性 



## Reference 
1. [w3school 的一个关于如何写SQL的教程](http://www.w3school.com.cn/sql/index.asp)
2. **有一本书:SQL必知必会**